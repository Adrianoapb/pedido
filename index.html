<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Para Voc√™</title>

  <style>
    :root{
      --txt: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.75);
      --accent: #ff4d8d;
    }

    body{
      margin:0;
      background:#000;
      height:100vh;
      overflow:hidden;
      font-family: Arial, sans-serif;
      color: var(--txt);
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }

    /* ‚ù§Ô∏è CORA√á√ïES */
    .heart{
      position:fixed;
      bottom:-20px;
      width:12px;
      height:12px;
      background: rgba(255,77,141,.35);
      transform: rotate(45deg);
      animation: floatUp linear infinite;
      z-index:1;
      pointer-events:none;
    }
    .heart::before,.heart::after{
      content:"";
      position:absolute;
      width:12px;
      height:12px;
      background: rgba(255,77,141,.35);
      border-radius:50%;
    }
    .heart::before{ left:-6px; top:0; }
    .heart::after{ left:0; top:-6px; }

    @keyframes floatUp{
      from{ transform: translateY(0) rotate(45deg); opacity:0; }
      10%{ opacity:.8; }
      to{ transform: translateY(-120vh) rotate(45deg); opacity:0; }
    }

    /* ü¶ã BORBOLETAS */
    .butterflies{
      display:flex;
      justify-content:center;
      gap:16px;
      margin:10px 0;
      opacity:0;
      transform: translateY(8px);
      filter: blur(1px);
      transition: .9s;
      position:relative;
    }
    .butterflies.show{
      opacity:1;
      transform: translateY(0);
      filter:none;
    }

    .butterfly{
      font-size:28px;
      animation: flutter 1.6s ease-in-out infinite;
    }
    .butterfly:nth-child(2){ animation-delay:.2s; }
    .butterfly:nth-child(3){ animation-delay:.4s; }

    @keyframes flutter{
      0%,100%{ transform: translateY(0); }
      50%{ transform: translateY(-6px); }
    }

    /* ABERTURA */
    #start{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      background:
        radial-gradient(800px 500px at 50% 45%, rgba(255,77,141,.18), transparent 60%),
        #000;
      z-index:10;
    }
    #start.hide{
      opacity:0;
      pointer-events:none;
      transform: scale(1.02);
      transition:.6s;
    }

    .card{
      max-width:560px;
      width:100%;
      padding:22px 18px;
      border-radius:18px;
      background: rgba(0,0,0,.55);
      border:1px solid rgba(255,255,255,.12);
      backdrop-filter: blur(6px);
      box-shadow: 0 14px 40px rgba(0,0,0,.6);
    }

    .title{ font-size:22px; margin:0 0 8px; }
    .subtitle{ font-size:15px; color: var(--muted); margin:0 0 10px; }

    /* ‚úçÔ∏è TEXTO LIMITADO (N√ÉO EMPURRA O BOT√ÉO) */
    .typeBox{
      margin:10px 0 14px;
      padding:12px 14px;
      border-radius:14px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      color: rgba(255,255,255,.88);
      line-height:1.45;
      font-size:14px;

      height: min(38vh, 220px); /* ‚úÖ limite de altura */
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;

      white-space: pre-wrap;
    }

    .typeBox::-webkit-scrollbar{ width:6px; }
    .typeBox::-webkit-scrollbar-thumb{
      background: rgba(255,255,255,.18);
      border-radius:10px;
    }

    .caret{
      display:inline-block;
      width:10px;
      animation: blink 1s steps(1) infinite;
    }
    @keyframes blink{ 50%{ opacity:0; } }

    /* BOT√ÉO */
    .btn{
      margin-top:14px;
      padding:12px 18px;
      border-radius:999px;
      background: rgba(255,77,141,.18);
      border:1px solid rgba(255,77,141,.45);
      font-weight:700;
      cursor:pointer;
      text-align:center;
      z-index:50;
    }
    .btn.disabled{
      opacity:.45;
      pointer-events:none;
    }

    .hint{
      margin-top:10px;
      font-size:13px;
      color: rgba(255,255,255,.7);
    }

    /* V√çDEO */
    video{
      width:100vw;
      height:100vh;
      object-fit:contain;
      background:#000;
      display:none;
    }

    /* FINAL */
    #end{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background:#000;
      opacity:0;
      pointer-events:none;
      transition:1s;
    }
    #end.show{
      opacity:1;
      pointer-events:auto;
    }

    .exitBtn{
      margin-top:18px;
      padding:12px 18px;
      border-radius:999px;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.22);
      font-weight:700;
      cursor:pointer;
    }
  </style>
</head>

<body>

<div id="start">
  <div class="card">
    <p class="title">Para voc√™, Thamires üíñ</p>
    <p class="subtitle">Um resumo de uma parte de nossa hit√≥ria.</p>

    <div class="typeBox">
      <span id="typed"></span><span class="caret">|</span>
    </div>

    <div id="butterflies" class="butterflies">
      <span class="butterfly">ü¶ã</span>
      <span class="butterfly">ü¶ã</span>
      <span class="butterfly">ü¶ã</span>
    </div>

    <div id="btn" class="btn disabled">Segure para acelerar‚Ä¶ ‚úçÔ∏è</div>
    <div class="hint">Coloque o fone üéß e aumente um pouquinho o som.</div>
  </div>
</div>

<video id="video">
  <source src="./video.mp4" type="video/mp4">
</video>

<div id="end">
  <div class="card">
    <p class="title">Te amo, Thamires üíõ</p>
    <p>Essa √© s√≥ uma lembran√ßa‚Ä¶<br><br>de muitas que ainda vamos criar juntos.</p>
    <div class="exitBtn" onclick="location.reload()">Toque para sair ‚ú®</div>
  </div>
</div>

<script>
  const typed = document.getElementById("typed");
  const btn = document.getElementById("btn");
  const butterflies = document.getElementById("butterflies");
  const start = document.getElementById("start");
  const video = document.getElementById("video");
  const end = document.getElementById("end");

  const text = [
    "Na vida, existem momentos em que n√£o esperamos absolutamente nada.",
    "Mas a vida adora surpreender quando menos esperamos.",
    "De repente surge algu√©m.",
    "E tudo muda.",
    "Esse algu√©m √© voc√™."
  ];

  let fast = false;
  let stage = 0;

  function sleep(ms){ return new Promise(r=>setTimeout(r,ms)); }

  async function typeText(){
    for(let line of text){
      for(let c of line){
        typed.textContent += c;
        await sleep(fast ? 6 : 26);
      }
      typed.textContent += "\n\n";
      await sleep(400);
    }
    btn.classList.remove("disabled");
    btn.textContent = "Toque para seguir ‚ñ∂";
  }

  btn.addEventListener("mousedown",()=>fast=true);
  btn.addEventListener("mouseup",()=>fast=false);
  btn.addEventListener("touchstart",()=>fast=true,{passive:true});
  btn.addEventListener("touchend",()=>fast=false,{passive:true});

  btn.addEventListener("click",()=>{
    if(stage===0){
      butterflies.classList.add("show");
      btn.textContent="Agora‚Ä¶ vamos lembrar ‚ñ∂";
      stage=1;
      return;
    }
    if(stage===1){
      start.classList.add("hide");
      video.style.display="block";
      video.play();
      stage=2;
    }
  });

  video.addEventListener("ended",()=>{
    video.style.display="none";
    end.classList.add("show");
  });

  setTimeout(typeText,100);
</script>

</body>
</html>
