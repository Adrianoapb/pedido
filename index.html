<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Voc√™</title>

<style>
:root{
  --txt: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.75);
}

body{
  margin:0;
  background:#000;
  height:100vh;
  overflow:hidden;
  font-family: Arial, sans-serif;
  color:var(--txt);
  user-select:none;
}

/* ABERTURA */
#start{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
  background:#000;
}

.card{
  width:100%;
  max-width:560px;
  background:rgba(0,0,0,.6);
  border-radius:18px;
  padding:20px;
  border:1px solid rgba(255,255,255,.15);
}

.title{ font-size:22px; margin:0 0 6px; }
.subtitle{ font-size:15px; color:var(--muted); margin-bottom:10px; }

/* TEXTO COMPLETO COM ROLAGEM */
.typeBox{
  margin:10px 0 14px;
  padding:12px 14px;
  border-radius:14px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.10);
  font-size:14px;
  line-height:1.45;
  white-space:pre-wrap;
  height:min(40vh,240px);
  overflow-y:auto;
}

/* BORBOLETAS */
.butterflies{
  display:flex;
  justify-content:center;
  gap:16px;
  margin:10px 0;
  opacity:0;
  transition:.8s;
}
.butterflies.show{ opacity:1; }
.butterfly{ font-size:28px; }

/* BOT√ÉO */
.btn{
  margin-top:14px;
  padding:12px 18px;
  border-radius:999px;
  background:rgba(255,77,141,.18);
  border:1px solid rgba(255,77,141,.45);
  font-weight:700;
  text-align:center;
  cursor:pointer;
}
.btn.disabled{
  opacity:.4;
  pointer-events:none;
}

.hint{
  margin-top:8px;
  font-size:13px;
  color:var(--muted);
}

/* V√çDEO */
video{
  width:100vw;
  height:100vh;
  background:#000;
  object-fit:contain;
  display:none;
}

/* FINAL */
#end{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#000;
  opacity:0;
  pointer-events:none;
  transition:1s;
}
#end.show{
  opacity:1;
  pointer-events:auto;
}
.exitBtn{
  margin-top:16px;
  padding:12px 18px;
  border-radius:999px;
  background:rgba(255,255,255,.12);
  border:1px solid rgba(255,255,255,.25);
  font-weight:700;
  cursor:pointer;
}
</style>
</head>

<body>

<div id="start">
  <div class="card">
    <p class="title">Para voc√™, Thamires üíñ</p>
    <p class="subtitle">Um pequeno resumo do in√≠cio da nossa hist√≥ria.</p>

    <div class="typeBox">
      <span id="typed"></span><span class="caret">|</span>
    </div>

    <div id="butterflies" class="butterflies">
      <span class="butterfly">ü¶ã</span>
      <span class="butterfly">ü¶ã</span>
      <span class="butterfly">ü¶ã</span>
    </div>

    <div id="btn" class="btn disabled">Segure para acelerar‚Ä¶ ‚úçÔ∏è</div>
    <div class="hint">Coloque o fone üéß e aumente um pouquinho o som.</div>
  </div>
</div>

<!-- V√çDEO -->
<video id="video" playsinline webkit-playsinline>
  <source src="./video.mp4" type="video/mp4">
</video>

<div id="end">
  <div class="card">
    <p class="title">Te amo, Thamires üíõ</p>
    <p>Essa √© s√≥ uma lembran√ßa‚Ä¶<br><br>de muitas que ainda vamos criar juntos.</p>
    <div class="exitBtn" onclick="location.reload()">Toque para sair ‚ú®</div>
  </div>
</div>

<script>
const typed = document.getElementById("typed");
const btn = document.getElementById("btn");
const butterflies = document.getElementById("butterflies");
const start = document.getElementById("start");
const video = document.getElementById("video");
const end = document.getElementById("end");

const textLines = [
  "Na vida, existem momentos em que n√£o esperamos absolutamente nada.",
  "S√£o fases em que ficamos descrentes da felicidade e do amor,",
  "perdendo a esperan√ßa de que um dia possamos encontrar algu√©m",
  "capaz de nos fazer verdadeiramente felizes.",
  "Mas a vida tem o costume de nos surpreender justamente quando menos esperamos.",
  "De repente, surge algu√©m sem aviso, em um momento improv√°vel e em uma situa√ß√£o que eu jamais imaginei.",
  "E, a partir daquele dia, aos poucos,",
  "essa pessoa foi se tornando cada vez mais especial, at√© chegar ao ponto de se tornar respons√°vel pelos meus sorrisos,",
  "pelas minhas inspira√ß√µes e pelos meus melhores sentimentos.",
  "O que antes era um tempo de vazio e incerteza, hoje √© tudo.",
  "E √© esse encontro inesperado que resolvi transformar nesse pequeno resumo da nossa hist√≥ria..."
];

let fast = false;
let stage = 0;

function sleep(ms){ return new Promise(r=>setTimeout(r,ms)); }

async function typeWriter(){
  for(let line of textLines){
    for(let c of line){
      typed.textContent += c;
      await sleep(fast ? 6 : 26);
    }
    typed.textContent += "\n\n";
    await sleep(400);
  }
  btn.classList.remove("disabled");
  btn.textContent = "Toque para seguir ‚ñ∂";
}

btn.addEventListener("mousedown",()=>fast=true);
btn.addEventListener("mouseup",()=>fast=false);
btn.addEventListener("touchstart",()=>fast=true,{passive:true});
btn.addEventListener("touchend",()=>fast=false,{passive:true});

btn.addEventListener("click", async ()=>{
  if(stage === 0){
    butterflies.classList.add("show");
    btn.textContent = "Agora‚Ä¶ vamos lembrar ‚ñ∂";
    stage = 1;
    return;
  }

  if(stage === 1){
    start.style.display = "none";
    video.style.display = "block";

    /* ‚úÖ FULLSCREEN GARANTIDO */
    if(video.requestFullscreen){
      await video.requestFullscreen();
    }else if(video.webkitEnterFullscreen){
      video.webkitEnterFullscreen(); // iOS
    }

    video.play();
    stage = 2;
  }
});

video.addEventListener("ended",()=>{
  if(document.fullscreenElement){
    document.exitFullscreen().catch(()=>{});
  }
  video.style.display = "none";
  end.classList.add("show");
});

setTimeout(typeWriter,100);
</script>

</body>
</html>

