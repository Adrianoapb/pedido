<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Para Voc√™</title>

  <style>
    :root{
      --txt: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.75);
      --accent: #ff4d8d;
    }

    body{
      margin:0;
      background:#000;
      height:100vh;
      overflow:hidden;
      font-family: Arial, sans-serif;
      color: var(--txt);
      -webkit-user-select:none;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }

    /* ‚ù§Ô∏è CORA√á√ïES (tempo curto) */
    .heart{
      position:fixed;
      bottom:-20px;
      width:12px;
      height:12px;
      background: rgba(255,77,141,.35);
      transform: rotate(45deg);
      animation: floatUp linear infinite;
      z-index:1;
      pointer-events:none;
    }
    .heart::before,
    .heart::after{
      content:"";
      position:absolute;
      width:12px;
      height:12px;
      background: rgba(255,77,141,.35);
      border-radius:50%;
    }
    .heart::before{ left:-6px; top:0; }
    .heart::after{ left:0; top:-6px; }

    @keyframes floatUp{
      from{ transform: translateY(0) rotate(45deg); opacity:0; }
      10%{ opacity:.8; }
      to{ transform: translateY(-120vh) rotate(45deg); opacity:0; }
    }

    /* ü¶ã BORBOLETAS */
    .butterflies{
      display:flex;
      justify-content:center;
      gap:16px;
      margin:10px 0;
      opacity:0;
      transform: translateY(8px);
      filter: blur(1px);
      transition: opacity .9s ease, transform .9s ease, filter .9s ease;
      position:relative;
    }
    .butterflies.show{
      opacity:1;
      transform: translateY(0);
      filter:none;
    }

    .butterfly{
      font-size:28px;
      animation: flutter 1.6s ease-in-out infinite;
      display:inline-block;
      transform-origin:center;
    }
    .butterfly:nth-child(2){ animation-delay:.2s; }
    .butterfly:nth-child(3){ animation-delay:.4s; }

    @keyframes flutter{
      0%,100%{ transform: translateY(0) rotate(0deg); }
      50%{ transform: translateY(-6px) rotate(6deg); }
    }

    /* ‚ú® Virar luz e sumir */
    .butterflies.light-away .butterfly{
      animation: lightAway 0.95s ease-out forwards;
    }
    .butterflies.light-away .butterfly:nth-child(1){ --dx:-10px; --dy:-10px; }
    .butterflies.light-away .butterfly:nth-child(2){ --dx:  0px; --dy:-14px; }
    .butterflies.light-away .butterfly:nth-child(3){ --dx: 10px; --dy:-10px; }

    @keyframes lightAway{
      0%{
        opacity:1;
        transform: translate(0,0) scale(1);
        filter: drop-shadow(0 0 0 rgba(255,255,255,0));
      }
      45%{
        opacity:1;
        transform: translate(var(--dx), var(--dy)) scale(1.15);
        filter:
          drop-shadow(0 0 10px rgba(255,255,255,.55))
          drop-shadow(0 0 22px rgba(255,77,141,.45));
      }
      100%{
        opacity:0;
        transform: translate(calc(var(--dx) * 2), calc(var(--dy) * 2)) scale(1.6);
        filter:
          drop-shadow(0 0 28px rgba(255,255,255,.10))
          drop-shadow(0 0 40px rgba(255,77,141,.10));
      }
    }

    /* ‚ú® Part√≠culas de luz */
    .sparkle{
      position:absolute;
      width:6px;
      height:6px;
      border-radius:50%;
      background: rgba(255,255,255,.9);
      box-shadow:
        0 0 10px rgba(255,255,255,.55),
        0 0 18px rgba(255,77,141,.35);
      left: var(--x);
      top: var(--y);
      opacity:0;
      transform: translate(0,0) scale(0.6);
      animation: sparklePop 900ms ease-out forwards;
      pointer-events:none;
      z-index:50;
      filter: blur(.1px);
    }

    @keyframes sparklePop{
      0%{ opacity:0; transform: translate(0,0) scale(0.6); }
      15%{ opacity:1; }
      100%{ opacity:0; transform: translate(var(--dx), var(--dy)) scale(0.25); }
    }

    /* ABERTURA */
    #start{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      padding:24px;
      cursor:pointer;
      background:
        radial-gradient(800px 500px at 50% 45%, rgba(255,77,141,.18), transparent 60%),
        #000;
      transition: opacity .6s ease, transform .6s ease;
      z-index:10;
    }
    #start.hide{
      opacity:0;
      transform: scale(1.02);
      pointer-events:none;
    }

    .card{
      max-width:560px;
      padding:22px 18px;
      border-radius:18px;
      background: rgba(0,0,0,.55);
      border:1px solid rgba(255,255,255,.12);
      backdrop-filter: blur(6px);
      box-shadow: 0 14px 40px rgba(0,0,0,.6);
      z-index:20;
      position:relative;
    }

    .title{ font-size:22px; margin:0 0 8px; }
    .subtitle{ font-size:15px; color: var(--muted); margin:0 0 10px; }

    /* ‚úçÔ∏è Texto digitando */
    .typeBox{
      text-align:left;
      margin: 10px 0 14px;
      padding: 12px 14px;
      border-radius: 14px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      color: rgba(255,255,255,.88);
      line-height: 1.45;
      font-size: 14px;
      min-height: 120px;
      white-space: pre-wrap;
    }
    .caret{
      display:inline-block;
      width:10px;
      margin-left:2px;
      color: rgba(255,255,255,.75);
      animation: blink 1s steps(1) infinite;
    }
    @keyframes blink{ 50%{ opacity:0; } }

    .btn{
      margin-top:14px;
      padding:12px 18px;
      border-radius:999px;
      background: rgba(255,77,141,.18);
      border:1px solid rgba(255,77,141,.45);
      font-weight:700;
      display:inline-block;
      transition: opacity .2s ease, filter .2s ease;
      user-select:none;
    }
    .btn.disabled{
      opacity:.45;
      filter: grayscale(.2);
      pointer-events:none;
    }

    .hint{
      margin-top:10px;
      font-size:13px;
      color: rgba(255,255,255,.7);
    }

    /* V√çDEO */
    video{
      width:100vw;
      height:100vh;
      object-fit:contain;
      background:#000;
      display:none;
      opacity:0;
      transition: opacity .4s ease;
      z-index:5;
    }
    video.show{ opacity:1; }

    /* FINAL */
    #end{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      padding:24px;
      background:
        radial-gradient(800px 500px at 50% 45%, rgba(255,77,141,.18), transparent 60%),
        #000;
      opacity:0;
      pointer-events:none;
      transition: opacity 1s ease;
      z-index:30;
    }
    #end.show{
      opacity:1;
      pointer-events:auto;
    }

    .exitBtn{
      margin-top:18px;
      padding:12px 18px;
      border-radius:999px;
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.22);
      font-weight:700;
      cursor:pointer;
      display:inline-block;
    }
  </style>
</head>

<body>

<!-- ABERTURA -->
<div id="start">
  <div class="card">
    <p class="title">Para voc√™, Thamires üíñ</p>
    <p class="subtitle">Um pequeno resumo do in√≠cio de tudo.</p>

    <!-- ‚úçÔ∏è TEXTO DIGITANDO -->
    <div id="typeBox" class="typeBox">
      <span id="typed"></span><span id="caret" class="caret">|</span>
    </div>

    <div id="butterflies" class="butterflies‚Äîfrom
      class="butterflies">
      <span class="butterfly">ü¶ã</span>
      <span class="butterfly">ü¶ã</span>
      <span class="butterfly">ü¶ã</span>
    </div>

    <div id="btn" class="btn disabled">
      <span id="btnText">Segure para acelerar‚Ä¶ ‚úçÔ∏è</span>
    </div>

    <div class="hint">Coloque o fone üéß e aumente um pouquinho o som.</div>
  </div>
</div>

<!-- V√çDEO -->
<video id="video" playsinline preload="auto">
  <source src="./video.mp4" type="video/mp4">
</video>

<!-- FINAL -->
<div id="end">
  <div class="card">
    <p class="title">Te amo, Thamires. üíõ</p>
    <p style="color:rgba(255,255,255,.85);margin:0">
      Essa √© s√≥ uma lembran√ßa‚Ä¶<br><br>
      de muitas que ainda vamos criar juntos.<br><br>
    </p>
    <div id="exit" class="exitBtn">Toque para sair ‚ú®</div>
  </div>
</div>

<script>
  const start = document.getElementById("start");
  const video = document.getElementById("video");
  const butterflies = document.getElementById("butterflies");
  const btnText = document.getElementById("btnText");
  const end = document.getElementById("end");
  const exitBtn = document.getElementById("exit");

  const btn = document.getElementById("btn");
  const typedEl = document.getElementById("typed");
  const caretEl = document.getElementById("caret");

  let stage = 0;
  let audioCtx = null;
  let typingDone = false;

  // acelera√ß√£o
  let fastMode = false;

  /* ‚ù§Ô∏è CORA√á√ïES ‚Äì poucos segundos */
  let hearts = setInterval(createHeart, 320);
  setTimeout(() => {
    clearInterval(hearts);
    document.querySelectorAll(".heart").forEach(h => h.remove());
  }, 5000);

  function createHeart(){
    const h = document.createElement("div");
    h.className = "heart";
    h.style.left = Math.random()*100 + "vw";
    h.style.animationDuration = (6 + Math.random()*4) + "s";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),10000);
  }

  function playSoftSound(){
    try{
      if(!audioCtx){
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      }
      const t = audioCtx.currentTime;
      const osc = audioCtx.createOscillator();
      const gain = audioCtx.createGain();

      osc.type = "sine";
      osc.frequency.setValueAtTime(660, t);
      osc.frequency.exponentialRampToValueAtTime(520, t + 0.12);

      gain.gain.setValueAtTime(0.001, t);
      gain.gain.exponentialRampToValueAtTime(0.08, t + 0.02);
      gain.gain.exponentialRampToValueAtTime(0.001, t + 0.18);

      osc.connect(gain);
      gain.connect(audioCtx.destination);
      osc.start(t);
      osc.stop(t + 0.2);
    }catch(e){}
  }

  function spawnSparkles(){
    const rect = butterflies.getBoundingClientRect();
    const baseX = rect.width / 2;
    const baseY = rect.height / 2;
    const count = 14;

    for(let i=0;i<count;i++){
      const s = document.createElement("span");
      s.className = "sparkle";

      const x = baseX + (Math.random()*40 - 20);
      const y = baseY + (Math.random()*18 - 9);

      const dx = (Math.random()*180 - 90) + "px";
      const dy = (Math.random()*140 - 90) + "px";

      s.style.setProperty("--x", x + "px");
      s.style.setProperty("--y", y + "px");
      s.style.setProperty("--dx", dx);
      s.style.setProperty("--dy", dy);

      const size = 4 + Math.random()*4;
      s.style.width = size + "px";
      s.style.height = size + "px";

      butterflies.appendChild(s);
      setTimeout(()=> s.remove(), 1000);
    }
  }

  async function startVideo(){
    start.classList.add("hide");
    setTimeout(()=>start.style.display="none",600);

    video.style.display="block";
    requestAnimationFrame(()=>video.classList.add("show"));

    try{ await video.play(); }catch(e){}

    if(video.requestFullscreen){
      video.requestFullscreen().catch(()=>{});
    }else if(video.webkitEnterFullscreen){
      video.webkitEnterFullscreen();
    }
  }

 // ‚úçÔ∏è EFEITO DIGITA√á√ÉO
const textLines = [
  "Na vida, existem momentos em que n√£o esperamos absolutamente nada.",
  "S√£o fases em que ficamos descrentes da felicidade e do amor,",
  "perdendo a esperan√ßa de que um dia possamos encontrar algu√©m",
  "capaz de nos fazer verdadeiramente felizes.",
  "Mas a vida tem o costume de nos surpreender justamente quando menos esperamos.",
  "De repente, surge algu√©m sem aviso,em um momento improv√°vel e em uma situa√ß√£o que eu jamais imaginei.",
  "E, a partir daquele dia, aos poucos,",
  "essa pessoa foi se tornando cada vez mais especial, at√© chegar ao ponto de se tornar respons√°vel pelos meus sorrisos,",
  "pelas minhas inspira√ß√µes e pelos meus melhores sentimentos.",
  "O que antes era um tempo de vazio e incerteza, hoje √© tudo.",
  "E √© esse encontro inesperado que resolvi transformar nesse pequeno resumo da nossa hist√≥ria...",
];

  const TYPE_SPEED = 26;            // normal
  const FAST_SPEED = 6;             // acelerado segurando
  const PAUSE_BETWEEN_LINES = 520;

  function sleep(ms){ return new Promise(r => setTimeout(r, ms)); }

  async function typeWriter(lines){
    typedEl.textContent = "";
    caretEl.style.display = "inline-block";

    for(let li=0; li<lines.length; li++){
      const line = lines[li];

      for(let i=0; i<line.length; i++){
        typedEl.textContent += line[i];
        const speed = fastMode ? FAST_SPEED : TYPE_SPEED;
        await sleep(speed);
      }

      if(li < lines.length - 1){
        typedEl.textContent += "\n\n";
        await sleep(li === lines.length - 2 ? 1200 : PAUSE_BETWEEN_LINES);

      }
    }

    caretEl.style.display = "none";
    typingDone = true;
    btn.classList.remove("disabled");
    btnText.textContent = "Toque aqui para reviver o in√≠cio da nossa hist√≥ria ‚ñ∂";
  }

  function handleStart(){
    if(!typingDone) return;

    if(stage===0){
      playSoftSound();
      butterflies.classList.add("show");
      btnText.textContent = "Agora‚Ä¶ vamos lembrar ‚ñ∂";
      stage = 1;
      return;
    }
    if(stage===1){
      spawnSparkles();
      butterflies.classList.add("light-away");
      stage = 2;
      setTimeout(startVideo, 550);
    }
  }

  start.addEventListener("click", handleStart);

  // segurar para acelerar (mouse + toque)
  function setFast(on){ fastMode = on; }

  start.addEventListener("mousedown", ()=>setFast(true));
  start.addEventListener("mouseup", ()=>setFast(false));
  start.addEventListener("mouseleave", ()=>setFast(false));
  start.addEventListener("touchstart", ()=>setFast(true), {passive:true});
  start.addEventListener("touchend", ()=>setFast(false), {passive:true});
  start.addEventListener("touchcancel", ()=>setFast(false), {passive:true});

  // inicia a digita√ß√£o assim que o DOM estiver pronto (mais confi√°vel que load)
  document.addEventListener("DOMContentLoaded", () => {
    // pequeno atraso s√≥ pra garantir que tudo j√° foi pintado na tela
    setTimeout(()=> typeWriter(textLines), 80);
  });

  video.addEventListener("ended", ()=>{
    if(document.fullscreenElement){
      document.exitFullscreen().catch(()=>{});
    }
    video.style.display="none";
    end.classList.add("show");
  });

  exitBtn.addEventListener("click", ()=>{
    window.location.reload();
  });
</script>

</body>
</html>







